{% extends "base.html" %}
{% block title %}Tag-Based Recommendations{% endblock %}

{% block content %}
  <h1>Tag-Based Recommendations</h1>
  <p>Based on your favorite and disliked tags.</p>

  <p><a href="{{ url_for('engine.wishlist') }}">View Wishlist</a></p>

  <ol>
    {% for r in recs %}
      <li>
        <strong><a href="{{ url_for('explore.game_detail', appid=r.appid) }}">{{ r.name }}</a></strong>
        (score: {{ r.score }}
        {% if r.global_rating > 0 %}
        , rating: {{ r.global_rating }}
        {% endif %}
        )
        <br>
        Tags: {{ r.tags|join(", ") if r.tags else "None" }}
        <br>

        {% if r.appid in pinned %}
          <em>Pinned</em>
        {% else %}
          <form method="POST" action="{{ url_for('engine.pin', appid=r.appid) }}" style="display:inline;">
            {{ form.hidden_tag() }}
            <button type="submit">Pin</button>
          </form>
        {% endif %}
      </li>
    {% endfor %}
  </ol>
{% endblock %}
